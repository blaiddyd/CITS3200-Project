<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome file</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="gcp-ai-module-setup">GCP AI Module Setup</h1>
<ol>
<li>Ensure <a href="https://nodejs.org/en/">NodeJS</a> is installed.</li>
<li>Ensure <a href="https://git-scm.com/downloads">Git</a> is installed.</li>
<li>Pull the repository from <a href="https://github.com/ekinbukulmez/CITS3200-Project">Github</a> and save it to a folder on your computer.</li>
<li>Run the console command <code>npm install</code> from the repo directory.</li>
<li>Run the console command <code>npm run generate-encryption</code> from the repo directory to create a private and public key in <code>./crypto/</code></li>
<li>Run the console command <code>touch .env</code> from the repo directory.</li>
<li>Open the file <code>.env</code> with your favourite text editor, and insert the following:</li>
</ol>
<pre><code>DATABASE_USERNAME=
DATABASE_PASSWORD=
DATABASE_HOST=
STORAGE_PROJECT_ID=
STORAGE_BUCKET=
</code></pre>
<ol start="8">
<li>Go to <a href="https://cloud.google.com/">GCP</a> and create an account. You can do this by pressing <code>Try for free</code> in the top right.</li>
<li>Go to the <a href="https://console.cloud.google.com/">GCP Console</a>.</li>
<li>When prompted, create a new project, then go back to the console page.</li>
<li>After creating the project, populate the <code>.env</code> file with your project ID. Ensure there are no spaces.</li>
</ol>
<p><img src="https://imgur.com/yw2SmdI.png" alt="Get the project id from your GCP console."><br>
<code>STORAGE_PROJECT_ID=civil-sprite-256215</code></p>
<ol start="12">
<li>Open the drop-down menu bar from the top left, then browse to the <code>Storage</code> tab.</li>
</ol>
<p><img src="https://imgur.com/UutJM5V.png" alt="Browse to the Storage tab."></p>
<ol start="13">
<li>Create a new GCP bucket when prompted by pressing the <code>Create Bucket</code> button.</li>
<li>Follow the wizard, noting down the GCP bucket name you’ve supplied. Use the following (localised to Aus):<br>
a. <code>Region</code><br>
b. <code>Location = asia-southeast-1 (Singapore)</code><br>
c. <code>Standard</code><br>
d. <code>Set permissions uniformly at bucket-level (Bucket Policy Only)</code><br>
e. <code>Google-managed-key</code></li>
<li>Populate <code>.env</code> with your bucket name:<br>
eg. <code>STORAGE_BUCKET=my-custom-bucket-name-gcp-ai-is-cool</code></li>
<li>Enable bucket policy only in the permissions tab of the newly created bucket.</li>
</ol>
<p><img src="https://imgur.com/6M1hS1a.png" alt="enter image description here"></p>
<ol start="17">
<li>
<p>Enable writing and reading by anyone who views the bucket:<br>
a. Press <code>Add Members</code><br>
b. Underneath <code>New Members</code> type <code>allMembers</code> (case sensitive)<br>
c. Under <code>Select a role</code> choose <code>Storage Admin Object Creator</code> and <code>Storage Admin Object Viewer</code>.</p>
</li>
</ol>
<p><img src="https://imgur.com/RH2d8QQ.png" alt=""></p>
<ol start="18">
<li>In the storage browser, click the link in the <code>lifecycle</code> column.</li>
<li>Press <code>add rule</code> and select <code>Age</code>  -&gt; <code>14 days</code> or <code>30 days</code>. For the action set to delete.</li>
<li>Head to <a href="https://www.mongodb.com/cloud/atlas">MongoDB Atlas</a> and create an account.</li>
<li>Press <code>build a new cluster</code> in the top right of the dashboard.</li>
<li>Ensure that when you pick a cloud provider and region, it is a free tier.</li>
<li>Wait up to 10 minutes for the cluster to be created.</li>
<li>Press the <code>Connect</code> button when done.</li>
</ol>
<p><img src="https://imgur.com/dUdvV99.png" alt="enter image description here"></p>
<ol start="23">
<li>Choose <code>Connect To Your Application</code> when prompted.</li>
<li>Copy the server uri in the connection string between @ and / as shown below.</li>
</ol>
<p><img src="https://imgur.com/j70Go34.png" alt="enter image description here"></p>
<ol start="26">
<li>Enter it into your <code>.env</code> file in the <code>DATABASE_HOST=my.custom.mongodb.url</code>.</li>
<li>In the MongoDB Atlas Dashboard, navigate to <code>Database Access</code> on the left.</li>
<li>Press <code>Add New User</code> and give them a custom username and password. Ensure they have the permission to <code>Read and Write to any database</code>.</li>
<li>Populate your <code>.env</code> file with the MongoDB atlas DB username and password.<br>
e.g. <code>DATABASE_USERNAME=my_custom_user</code> &amp;&amp; <code>DATABASE_PASSWORD=this_1s_4_strong_password!</code></li>
<li>Run the command <code>npm run</code> in your directory, and browse to the url in your browser.</li>
</ol>
</div>
</body>

</html>
